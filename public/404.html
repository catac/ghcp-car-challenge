<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>Single Page App</title>
    <script type="text/javascript">
        // Single Page Apps for GitHub Pages
        // https://github.com/rafgraph/spa-github-pages
        // This file is meant to be used when the basename is set to a subdirectory name
        // e.g. /ghcp-car-challenge/

        var pathSegments = window.location.pathname.split('/');
        var basePathSegment = ''; // will be set to 'ghcp-car-challenge' if it exists

        // Find the base path segment (the repo name)
        for (var i = 0; i < pathSegments.length; i++) {
            if (pathSegments[i] && pathSegments[i] !== 'index.html') {
                basePathSegment = pathSegments[i];
                break;
            }
        }

        // Reconstruct URL with the base path
        var newPath = '/' + basePathSegment + '/?p=' + window.location.pathname.slice(1).split('/').slice(1).join('/');
        if (window.location.search) {
            newPath += '&q=' + window.location.search.slice(1);
        }
        newPath += window.location.hash;

        window.location.replace(newPath);
    </script>
</head>

<body>
</body>

</html>